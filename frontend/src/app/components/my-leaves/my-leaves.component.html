<div class="container mt-4" style="max-width: 800px;">
  <div class="card shadow rounded-4 border-0">
    <div class="card-body p-4">
      <!-- Title -->
      <h4 class="fw-bold text-primary mb-4 d-flex align-items-center">
        <i class="bi bi-journal-check me-2"></i> My Leave History
      </h4>

      <!-- No Leaves -->
      <div *ngIf="!rows?.length" class="alert alert-info d-flex align-items-center">
        <i class="bi bi-info-circle-fill me-2"></i> You havenâ€™t applied for any leave yet.
      </div>

      <!-- Leave Table -->
      <div *ngIf="rows?.length">
        <div class="table-responsive">
          <table class="table table-hover align-middle text-center">
            <thead class="table-light">
              <tr>
                <th>#</th>
                <th>Start</th>
                <th>End</th>
                <th>Days</th> 
                <th>Status</th>
                <th>Manager Comment</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let r of rows; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ r.start_date | date: 'dd-MM-yyyy' }}</td>
                <td>{{ r.end_date | date: 'dd-MM-yyyy' }}</td>
                <td>
                  <span class="badge bg-secondary">
                    {{ r.days || calcDays(r.start_date, r.end_date) }}
                  </span>
                </td>
                <td>
                  <span class="badge px-2 py-2 rounded-pill" [ngClass]="{
                    'bg-warning text-dark': r.status==='pending',
                    'bg-success': r.status==='approved',
                    'bg-danger': r.status==='rejected'
                  }">
                    <i class="bi" [ngClass]="{
                      'bi-hourglass-split': r.status==='pending',
                      'bi-check-circle-fill': r.status==='approved',
                      'bi-x-circle-fill': r.status==='rejected'
                    }"></i>
                    {{ r.status | titlecase }}
                  </span>
                </td>
                <td>
                  <span *ngIf="r.manager_comment; else noComment">{{ r.manager_comment }}</span>
                  <ng-template #noComment><span class="text-muted">-</span></ng-template>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </div>
</div>
